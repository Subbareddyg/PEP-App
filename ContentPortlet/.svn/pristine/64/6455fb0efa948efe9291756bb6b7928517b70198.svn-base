<%@ include file="/WEB-INF/pages/jsp/include.jsp" %>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
     <title>Content Display.</title>

</head>

<script>
function createmannualpet(){
window.location = '<%=request.getScheme() + "://" + request.getServerName() + ":" + request.getServerPort()+"/wps/portal/home/CreatePET" %>';
}


function logout_home(){	
	
	var username = document.getElementById("username").value
	
	
	
	if(username.indexOf('@') === -1) 
	{
	   window.location = "/wps/portal/home/InternalLogin";
	} else {
		
		window.location = "/wps/portal/home/ExternalVendorLogin";
	}
	
}
</script>

<portlet:defineObjects />
<fmt:bundle basename="contentDisplay">
<portlet:actionURL var="formAction"> 
		<portlet:param name="action" value="contentSubmit"/>
</portlet:actionURL>	
	
<div id="content">
<div id="main">

<form:form commandName="contentflowForm" method="post" action="${formAction}" name="contentDisplayForm" id="contentDisplayForm">
		
		<input type="hidden" id="username" name="username" value="<c:out value='afusos3'/>" />
		 		 
		
      
		<div  class="cars_panel x-hidden" >
		<div class="x-panel-header">
				<fmt:message key="content.label.styleInfo"/>
			
		</div>  
				
				<c:if test="${isPetAvailable =='yes'}">
				
				<c:set var="contextpath" value="<%=response.encodeURL(request.getContextPath())%>"></c:set>
				<c:set var="imagemidpath" value="/img/"></c:set>
				<c:set var="imagename" value="${workflowForm.sortingImage}"></c:set>
				<div id="tableStart"></div><div class="x-panel-body" id="petTable" name="petTable">	
				<c:if test="${workflowForm.totalNumberOfPets ne '0'}">
				<span class="pagebanner">&nbsp;<c:out value="${workflowForm.totalNumberOfPets}"/> &nbsp;<fmt:message key="worklist.pets.found.displaying.label"/>
				
				<c:out value="${workflowForm.pageLimit}"/>  
				<fmt:message key="worklist.pagination.left.sq.bracket.label"/>
							<c:choose>
								<c:when test="${workflowForm.selectedPage ne '1' }" >
								 <a href="#" onclick="getThePageContent('1')"><fmt:message key="worklist.pagination.first.label"/></a>
								</c:when>
								<c:otherwise>
								<fmt:message key="worklist.pagination.first.label"/>
								</c:otherwise>
							</c:choose>
				<fmt:message key="worklist.pagination.left.slash.label"/>
							
							<c:choose>
								<c:when test="${workflowForm.selectedPage ne '1' }" >
								 <a href="#" onclick="getThePageContent('${workflowForm.previousCount}')"><fmt:message key="worklist.pagination.prev.label"/></a>
								</c:when>
								<c:otherwise>
								<fmt:message key="worklist.pagination.prev.label"/>
								</c:otherwise>
							</c:choose>
				<fmt:message key="worklist.pagination.right.sq.bracket.label"/>
				
				<c:forEach items="${workflowForm.pageNumberList}" var="pageNumber"
							varStatus="status">
							<c:choose>
								<c:when test="${pageNumber == workflowForm.selectedPage}" >
								<c:out value="${pageNumber}"/> 
								</c:when>
								<c:otherwise>
								<a href="#" onclick="getThePageContent('${pageNumber}')"> <c:out value="${pageNumber}"/> </a>
								</c:otherwise>
							</c:choose>
							<c:if test="${pageNumber ne workflowForm.totalPageno}"> ,</c:if>
							
				</c:forEach>
				<fmt:message key="worklist.pagination.left.sq.bracket.label"/>
							<c:choose>
								<c:when test="${workflowForm.selectedPage ne workflowForm.totalPageno }" >
								 <a href="#" onclick="getThePageContent('${workflowForm.nextCount}')"><fmt:message key="worklist.pagination.next.label"/></a>
								</c:when>
								<c:otherwise>
								<fmt:message key="worklist.pagination.next.label"/>
								</c:otherwise>
							</c:choose>
				<fmt:message key="worklist.pagination.left.slash.label"/>
							
							<c:choose>
								<c:when test="${workflowForm.selectedPage ne workflowForm.totalPageno }" >
								 <a href="#" onclick="getThePageContent('${workflowForm.totalPageno}')"><fmt:message key="worklist.pagination.last.label"/></a>
								</c:when>
								<c:otherwise>
								<fmt:message key="worklist.pagination.last.label"/>
								</c:otherwise>
							</c:choose>
				<fmt:message key="worklist.pagination.right.sq.bracket.label"/>
							
				</span>
				</c:if>
				<div class="scrollbarset">
				<table  cellpadding="0"  class="table tree2 table-bordered table-striped table-condensed" id="petTable" name="petTable"  >
				<thead >
				<tr>
				<th ><input  class="selectAllCheckBox" type="checkbox" name="selectAllRow" id="selectAllRow">
				</th>
				<th class="sortable sorted order2">
				<a href="#" onclick="columnsorting('orinGroup')"><fmt:message key="worklist.orin.group.label"/>#</a>
				<c:if test="${workflowForm.selectedColumn =='orinGroup'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th class="sortable">
				<a href="#" onclick="columnsorting('dept')"><fmt:message key="worklist.column.dept.label"/>#</a>
				<c:if test="${workflowForm.selectedColumn =='dept'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th class="sortable">
				<a href="#" onclick="columnsorting('vendorName')"><fmt:message key="worklist.column.vendor.name.label"/></a>
				<c:if test="${workflowForm.selectedColumn =='vendorName'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th class="sortable">
				<a href="#" onclick="columnsorting('vendorStyle')"><fmt:message key="worklist.column.vendor.style.label"/>#</a>
				<c:if test="${workflowForm.selectedColumn =='vendorStyle'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th class="sortable">
				<a href="#" onclick="columnsorting('productName')"><fmt:message key="worklist.column.product.name.label"/></a>
				<c:if test="${workflowForm.selectedColumn =='productName'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th class="sortable">
				<a href="#" onclick="columnsorting('contentStatus')"><fmt:message key="worklist.column.content.status.label"/></a>
				<c:if test="${workflowForm.selectedColumn =='contentStatus'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>
				<th><a href="#" onclick="columnsorting('imageStatus')"><fmt:message key="worklist.column.img.status.label"/></a>
				<c:if test="${workflowForm.selectedColumn =='imageStatus'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th>		
				<th><a href="#" onclick="columnsorting('completionDate')"><fmt:message key="worklist.column.icompletion.date.label"/></a>
				<c:if test="${workflowForm.selectedColumn =='completionDate'}">
					<img src="${contextpath}${imagemidpath}${imagename}"> </img>
				</c:if>
				</th></tr>
				</thead>
				<tbody >
				<!-- Table Grid logic Start -->
						<c:set var="subcount" value="260" />
						<c:set var="countList" value="0" />
						<c:if test="${workflowForm.petNotFound ne null}"><tr><td colspan="9"><c:out value="${workflowForm.petNotFound}"/></td></tr> </c:if>
						<c:forEach items="${workflowForm.workFlowlist}" var="workFlow"
							varStatus="status">
							
								<tr name="tablereport" class="treegrid-${countList}" >
								<td align="center"><input type="checkbox" name="styleItem" id="styleItem" class="checkbox1"
									value="<c:out  value="${workFlow.orinNumber}"/>" /></td>
								<td><c:out value="${workFlow.orinNumber}" />
								<c:if test="${workFlow.omniChannelVendor =='Y' && workflowForm.roleEditable =='yes'}">*</c:if>
								</td>
								<td><c:out value="${workFlow.deptId}" />
								</td>
								<td><c:out value="${workFlow.vendorName}" />
								</td>
								<td><c:out value="${workFlow.vendorStyle}" />
								</td>
								<td><c:out value="${workFlow.productName}" />
								</td>
								<td>
									<c:choose>
										<c:when test="${workflowForm.roleEditable =='yes' }" >
										 <a href="#" onclick="contentStatus('<c:out value="${workFlow.contentStatus}" />')"><c:out value="${workFlow.contentStatus}" /></a>
										</c:when>
										<c:otherwise>
										<c:out value="${workFlow.contentStatus}" />
										</c:otherwise>
									</c:choose>
									</td>
									<td>
									<c:choose>
										<c:when test="${workflowForm.roleEditable =='yes' }" >
										 <a href="#" onclick="imageStatus('<c:out value="${workFlow.imageStatus}" />')"><c:out value="${workFlow.imageStatus}" /></a>
										</c:when>
										<c:otherwise>
										<c:out value="${workFlow.imageStatus}" />
										</c:otherwise>
									</c:choose>
									</td>
								<td><c:out value="${workFlow.completionDate}" />
								</td>
							</tr>
						
						<c:forEach items="${workFlow.styleColor}" var="style"
								varStatus="Stylestatus">
								<c:set var="subcount" value="${subcount + Stylestatus.count }" />
								
								<tr name="treegrid2"
									class="treegrid-${subcount} treegrid-parent-${countList}" >
									<td><input type="checkbox" name="selectedStyles" class="checkbox1"
										value="<c:out  value="${style.orinNumber}"/>" /></td>
									<td><c:out value="${style.orinNumber}" /><c:if test="${style.omniChannelVendor =='Y' && workflowForm.roleEditable =='yes'}">*</c:if></td>
									<td><c:out value="${style.deptId}" />
									</td>
									<td><c:out value="${style.vendorName}" />
									</td>
									<td><c:out value="${style.vendorStyle}" />
									</td>
									<td><c:out value="${style.productName}" />
									</td>
									<td>
									<c:choose>
										<c:when test="${workflowForm.roleEditable =='yes' }" >
										 <a href="#" onclick="contentStatus('<c:out value="${workFlow.contentStatus}" />')"><c:out value="${workFlow.contentStatus}" /></a>
										</c:when>
										<c:otherwise>
										<c:out value="${workFlow.contentStatus}" />
										</c:otherwise>
									</c:choose>
									</td>
									<td>
									<c:choose>
										<c:when test="${workflowForm.roleEditable =='yes' }" >
										 <a href="#" onclick="imageStatus('<c:out value="${workFlow.imageStatus}" />')"><c:out value="${workFlow.imageStatus}" /></a>
										</c:when>
										<c:otherwise>
										<c:out value="${workFlow.imageStatus}" />
										</c:otherwise>
									</c:choose>
									</td>
									<td><c:out value="${style.completionDate}" />
									</td>
								</tr>
						
			
							</c:forEach>
							<c:set var="countList" value="${countList+1}" />
						</c:forEach>      
				<!--  Table Grid Login End -->	       
				</tbody>
				</table>
				</div>
				<!-- Popup content -->
 				
					<div id="dialog_Dept" class="web_dialog_dept" name="dialog_Dept">
					<div class="scrollbarsetdept">
					   <table class="deptmaintable" cellpadding="3" cellspacing="0">
					      <tr>
					         <td class="web_dialog_title"><fmt:message key="worklist.dept.filter.department.label"/></td>
					         <td class="web_dialog_title align_right">           
					         </td>
					      </tr>
					      <tr>
					         <td>&nbsp;</td>
					         <td>&nbsp;</td>
					      </tr>
						  <tr>  
						 </tr>	 
					      <tr>
					         <td>&nbsp;</td>
					         <td>&nbsp;</td>
					      </tr>	   
							<tr>
						 <td colspan="2" align="center">	 
					            <input id="btnSearch1" type="button" value="<fmt:message key="worklist.dept.filter.search.label"/>" onclick="depSearch('depSearch')"/>         
					            <input id="btnClearDept1" type="button" value="<fmt:message key="worklist.dept.filter.clear.label"/>" onclick="depSearch('depClear')"/>        
					            <input id="btnSaveDept1" type="button" value="<fmt:message key="worklist.dept.filter.save.close.label"/>" onclick="depSearch('depSaveClose')"/>        
					            <input id="btnCloseDept1" type="button" value="<fmt:message key="worklist.dept.filter.close.label"/>" onclick="depSearch('depClose')"/>       
							 </td>	   
					       </tr>
						   <tr>
					          <td><c:out  value="${workflowForm.deptSearchResult}"/></td>
					         <td>&nbsp;</td>
					      </tr>	  
						<table align="center"  border="1" class="deptintable">	    
						  <tr class="deptintabletrheading" >
						    <th colspan="2" class="deptintableborder"></th>
						    <th colspan="2" class="deptintableborder"><fmt:message key="worklist.dept.filter.dept.label"/> #</th> 
						    <th colspan="2" class="deptintableborder"><fmt:message key="worklist.dept.filter.dept.desc.label"/></th>
						  </tr>
						  <tr>
						    <td  colspan="2" class="deptintableborder">	
							</td>
						    <td colspan="2" class="deptintdSearchText"><input type="text" name ="selectedDeptSearch" id ="selectedDeptSearch"/></td> 
						    <td colspan="2" class="deptintableborder"></td>
						  </tr>  
						  <c:forEach items="${workflowForm.selectedDepartmentFromDB}" var="sdfdb"
													varStatus="status">
													<tr name="abc" >
														<td colspan="2" class="deptintableborder">
														<input type="checkbox" name="chkSelectedDept" checked="checked" id="chkSelectedDept" class="deptcheckbox"
															value="<c:out  value="${sdfdb.id}"/>" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${sdfdb.id}" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${sdfdb.desc}" /></td>
													</tr>
							</c:forEach>	
							
							<c:forEach items="${workflowForm.searchedDeptdetailsFromADSE}" var="sddfa"
													varStatus="status">
													<tr name="abc" >
														<td colspan="2" class="deptintableborder">
														<input type="checkbox" name="chkSelectedDept"  id="chkSelectedDept" class="deptcheckbox"
															value="<c:out  value="${sddfa.id}"/>" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${sddfa.id}" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${sddfa.desc}" /></td>
													</tr>
							</c:forEach>	
							
							<c:forEach items="${workflowForm.firstTimesearchedDeptdetailsFromADSE}" var="ftsddfa"
													varStatus="status">
													<tr name="abc" >
														<td colspan="2" class="deptintableborder">
														<input type="checkbox" name="chkSelectedDept"  id="chkSelectedDept" class="deptcheckbox"
															value="<c:out  value="${ftsddfa.id}"/>" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${ftsddfa.id}" /></td>
														<td colspan="2" class="deptintableborder"><c:out value="${ftsddfa.desc}" /></td>
													</tr>
							</c:forEach>				
						  
						</table>	  
					   <tr>
					         <td>&nbsp;</td>
					         <td>&nbsp;</td>
					   </tr>
					   <tr>
						         
					   </tr>
			  		</table>
			  		</div>
				</div> 
					<!-- popup content end -->
			</div><div id="tableEnd"></div>
			</c:if>
		</div>
	</form:form>
	</div>
 </div>
		
</fmt:bundle>		
   

